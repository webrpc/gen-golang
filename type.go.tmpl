{{- define "type" -}}

{{- $type := .Type -}}
{{- $optional := .Optional -}}
{{- $typeMap := .TypeMap -}}

{{- if isMapType $type -}}

    map[{{mapKeyType $type}}]{{template "type" dict "Type" (mapValueType $type) "TypeMap" $typeMap}}

{{- else if isListType $type -}}

    []{{template "type" dict "Type" (listElemType $type) "TypeMap" $typeMap}}

{{- else if isStructType $type -}}

    *{{$type}}

{{- else -}}

    {{if and $optional (not (isStructType $type))}}*{{end}}{{ get $typeMap $type }}

{{- end -}}
{{- end -}}